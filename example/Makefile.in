#BINS=3dsloader filebrowser pyramide dot_mcp linktest stringtest s3dvt
SOURCES=filebrowser.c 3dsloader.c dot_mcp.c s3dclock.c texturetest.c snowman.c katze.c radius_test.c s3d_startapp.c hudtest.c
OBJS=$(SOURCES:.c=.o)
BINS=$(SOURCES:.c=)
CC=gcc
LD=gcc
PREFIX=@PREFIX@
CFLAGS=-pedantic -Wall -pg -ggdb -I$(PREFIX)/include/s3d/
LDFLAGS=-ggdb -pg
LIBS=$(LDFLAGS) @EXAMPLE_LIBS@
INSTALL_PROGRAM= /usr/bin/install -c -s -m 755
.SUFFIXES: .c
default:	all
all:	$(BINS) 
s3d_x11gate:	s3d_x11gate.o
	$(LD) $@.o $(LIBS) -L/usr/X11R6/lib -L/usr/lib -lX11 -o $@
s3dgps:			s3dgps.o
	$(LD) $@.o $(LIBS) -lgps -o $@

s3dvt:s3dvt.o 
	$(LD) $@.o $(LIBS) -pthread -o $@
filebrowser: filebrowser.o
	$(LD) $@.o $(LIBS) -o $@
3dsloader: 	3dsloader.o
	$(LD) $@.o $(LIBS) -o $@
dot_mcp: 	dot_mcp.o
	$(LD) $@.o -lm $(LIBS) -o $@
picktest: 	picktest.o
	$(LD) $@.o $(LIBS) -o $@
texturetest: 	texturetest.o
	$(LD) $@.o $(LIBS) -o $@
hudtest: 		hudtest.o
	$(LD) $@.o $(LIBS) -o $@

snowman: 	snowman.o
	$(LD) $@.o -lm $(LIBS) -o $@
katze:		katze.o
	$(LD) $@.o -lm $(LIBS) -o $@
radius_test:	radius_test.o
	$(LD) $@.o -lm $(LIBS) -o $@
s3dclock: 		s3dclock.o
	$(LD) $@.o $(LIBS) -o $@
s3d_startapp:	s3d_startapp.o
	$(LD) $@.o $(LIBS) -o $@
.c.o:
	gcc $(CFLAGS) -c $<
clean:
	rm -rf $(OBJS) $(BINS)
depend:
	makedepend $(CFLAGS) $(SOURCES)
install:
	$(INSTALL_PROGRAM) s3dclock $(PREFIX)/bin
	$(INSTALL_PROGRAM) s3dvt $(PREFIX)/bin
uninstall:
	rm -f $(PREFIX)/bin/s3dclock
	rm -f $(PREFIX)/bin/s3dvt
	
